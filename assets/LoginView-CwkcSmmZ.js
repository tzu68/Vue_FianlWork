import{u as w,r as d,c as u,a as o,w as l,v as a,b as m,d as g,t as b,F as C,e as k,o as p}from"./index-C9-gPgZb.js";import{a as v}from"./axios-DzWr6d29.js";const y={id:"loginPage",class:"bg-yellow"},x={class:"conatiner loginPage vhContainer"},U=o("div",{class:"side"},[o("a",{href:"#"},[o("img",{class:"logoImg",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:""})]),o("img",{class:"d-m-n",src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png",alt:"workImg"})],-1),V={key:0},I={class:"formControls",action:"index.html"},q=o("h2",{class:"formControls_txt"},"最實用的線上代辦事項服務",-1),$=o("label",{class:"formControls_label",for:"email"},"Email",-1),P=o("span",null,"此欄位不可留空",-1),S=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1),B={key:1},E={class:"formControls",action:"index.html"},L=o("h2",{class:"formControls_txt"},"註冊帳號",-1),N=o("label",{class:"formControls_label",for:"email"},"Email",-1),D=o("label",{class:"formControls_label",for:"name"},"您的暱稱",-1),F=o("label",{class:"formControls_label",for:"pwd"},"密碼",-1),M=o("label",{class:"formControls_label",for:"pwd"},"再次輸入密碼",-1),T={id:"signUpPage",class:"bg-yellow"},R=k('<div class="conatiner signUpPage vhContainer"><div class="side"><a href="#"><img class="logoImg" src="https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png" alt=""></a><img class="d-m-n" src="https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/img.png" alt="workImg"></div></div>',1),G={__name:"LoginView",setup(j){const _=w(),n=d("login"),c=d("https://todolist-api.hexschool.io"),e=d({email:"",password:"",passwordCheck:"",nickname:""}),i=d({email:"",password:""});async function h(){const r=`${c.value}/users/sign_in`;try{const s=await v.post(r,i.value);document.cookie=`hexToken=${s.data.token}`,_.push("/todolist")}catch(s){alert(s)}}async function f(){if(e.value.passwordCheck!=e.value.password){alert("[密碼]與[再次輸入密碼]不相符，請確認兩者相同。");return}const r=`${c.value}/users/sign_up`;try{const s=await v.post(r,e.value);alert("註冊成功!"),n.value="login"}catch(s){alert(s.response.data.message)}}return(r,s)=>(p(),u(C,null,[o("div",y,[o("div",x,[U,n.value!="signUp"?(p(),u("div",V,[o("form",I,[q,$,l(o("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[0]||(s[0]=t=>i.value.email=t)},null,512),[[a,i.value.email]]),P,S,l(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>i.value.password=t)},null,512),[[a,i.value.password]]),o("input",{class:"formControls_btnSubmit",type:"button",value:"登入",onClick:s[2]||(s[2]=m(t=>h(),["prevent"]))}),o("a",{class:"formControls_btnLink",onClick:s[3]||(s[3]=m(()=>n.value="signUp",["prevent"]))},"註冊帳號")])])):g("",!0),n.value=="signUp"?(p(),u("div",B,[o("form",E,[L,N,l(o("input",{class:"formControls_input",type:"text",id:"email",name:"email",placeholder:"請輸入 email",required:"","onUpdate:modelValue":s[4]||(s[4]=t=>e.value.email=t)},null,512),[[a,e.value.email]]),D,l(o("input",{class:"formControls_input",type:"text",name:"name",id:"name",placeholder:"請輸入您的暱稱","onUpdate:modelValue":s[5]||(s[5]=t=>e.value.nickname=t)},null,512),[[a,e.value.nickname]]),F,l(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":s[6]||(s[6]=t=>e.value.password=t)},null,512),[[a,e.value.password]]),M,l(o("input",{class:"formControls_input",type:"password",name:"pwd",id:"pwd",placeholder:"請再次輸入密碼",required:"","onUpdate:modelValue":s[7]||(s[7]=t=>e.value.passwordCheck=t)},null,512),[[a,e.value.passwordCheck]]),o("input",{class:"formControls_btnSubmit",type:"button",value:"註冊帳號",onClick:s[8]||(s[8]=t=>f())}),o("a",{class:"formControls_btnLink",onClick:s[9]||(s[9]=m(()=>n.value="login",["prevent"]))},"登入")])])):g("",!0)])]),o("div",T,[o("div",null,b(e.value),1),R])],64))}};export{G as default};
